{"ast":null,"code":"import _classCallCheck from \"/home/ngadoan/Documents/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ngadoan/Documents/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ngadoan/Documents/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ngadoan/Documents/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ngadoan/Documents/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ngadoan/Documents/web/src/components/Analysist/career_groups_bar.js\";\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Chip from '@material-ui/core/Chip';\nimport { Bar } from 'react-chartjs-2';\nvar ITEM_HEIGHT = 48;\nvar ITEM_PADDING_TOP = 8;\nvar MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP\n    }\n  }\n};\n\nfunction getStyles(name, that) {\n  return {\n    fontWeight: that.state.selects.indexOf(name) === -1 ? that.props.theme.typography.fontWeightRegular : that.props.theme.typography.fontWeightMedium\n  };\n}\n\nvar CareerGroupsBar =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(CareerGroupsBar, _PureComponent);\n\n  function CareerGroupsBar() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CareerGroupsBar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CareerGroupsBar)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      selects: [],\n      data: {},\n      length: 10\n    };\n\n    _this.handleChange = function (event) {\n      var value = event.target.value;\n      var length = _this.state.length;\n\n      if (value.length <= length) {\n        _this.setState({\n          selects: value\n        }, function () {\n          _this.getData();\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(CareerGroupsBar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          selects = _this$state.selects,\n          length = _this$state.length;\n      fetch(\"http://127.0.0.1:5000/analysist_careers?careers=\" + selects + \"&length=\" + length, {\n        method: \"GET\"\n      }).then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        var labels = [];\n        var data = [];\n        result.result.forEach(function (item) {\n          labels.push(item.career);\n          data.push(item.size);\n        });\n\n        _this2.setState({\n          data: {\n            labels: labels,\n            datasets: [{\n              data: data,\n              label: 'Số lượng',\n              backgroundColor: '#80CBC4',\n              hoverBackgroundColor: '#80CBC4'\n            }]\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          careers = _this$props.careers,\n          classes = _this$props.classes;\n      var _this$state2 = this.state,\n          selects = _this$state2.selects,\n          data = _this$state2.data;\n      return React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        className: classes.formControl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"select-multiple-chip\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Ng\\xE0nh ngh\\u1EC1\"), React.createElement(Select, {\n        multiple: true,\n        value: selects,\n        onChange: this.handleChange,\n        input: React.createElement(Input, {\n          id: \"select-multiple-chip\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }),\n        renderValue: function renderValue(selected) {\n          return React.createElement(\"div\", {\n            className: classes.chips,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }, selected.map(function (value) {\n            return React.createElement(Chip, {\n              key: value,\n              label: value,\n              className: classes.chip,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 97\n              },\n              __self: this\n            });\n          }));\n        },\n        MenuProps: MenuProps,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, careers.map(function (item, index) {\n        return React.createElement(MenuItem, {\n          key: index,\n          value: item,\n          style: getStyles(item, _this3),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, item);\n      }))), React.createElement(Bar, {\n        data: data,\n        width: 100,\n        height: 250,\n        options: {\n          maintainAspectRatio: false\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return CareerGroupsBar;\n}(PureComponent);\n\nCareerGroupsBar.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    formControl: {\n      margin: theme.spacing.unit,\n      minWidth: 450,\n      maxWidth: 800,\n      marginBottom: 20\n    },\n    chips: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    chip: {\n      margin: theme.spacing.unit / 4\n    },\n    noLabel: {\n      marginTop: theme.spacing.unit * 3\n    }\n  };\n};\n\nexport default withStyles(styles, {\n  withTheme: true\n})(CareerGroupsBar);","map":{"version":3,"sources":["/home/ngadoan/Documents/web/src/components/Analysist/career_groups_bar.js"],"names":["React","PureComponent","PropTypes","withStyles","Input","InputLabel","MenuItem","FormControl","Select","Chip","Bar","ITEM_HEIGHT","ITEM_PADDING_TOP","MenuProps","PaperProps","style","maxHeight","getStyles","name","that","fontWeight","state","selects","indexOf","props","theme","typography","fontWeightRegular","fontWeightMedium","CareerGroupsBar","data","length","handleChange","event","value","target","setState","getData","fetch","method","then","res","json","result","labels","forEach","item","push","career","size","datasets","label","backgroundColor","hoverBackgroundColor","careers","classes","formControl","selected","chips","map","chip","index","maintainAspectRatio","propTypes","object","isRequired","styles","root","display","flexWrap","margin","spacing","unit","minWidth","maxWidth","marginBottom","noLabel","marginTop","withTheme"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Chip from '@material-ui/core/Chip';\nimport { Bar } from 'react-chartjs-2';\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\n\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n    },\n  },\n};\n\nfunction getStyles(name, that) {\n  return {\n    fontWeight:\n      that.state.selects.indexOf(name) === -1\n        ? that.props.theme.typography.fontWeightRegular\n        : that.props.theme.typography.fontWeightMedium,\n  };\n}\n\nclass CareerGroupsBar extends PureComponent {\n\n  state = {\n    selects: [],\n    data: {},\n    length: 10\n  };\n\n  componentDidMount() {\n    this.getData()\n  }\n\n  getData() {\n    const { selects, length } = this.state\n    fetch(\"http://127.0.0.1:5000/analysist_careers?careers=\" + selects + \"&length=\" + length, {\n      method: \"GET\"\n    })\n      .then(res => res.json())\n      .then(result => {\n        var labels = []\n        var data = []\n        result.result.forEach(item => {\n          labels.push(item.career)\n          data.push(item.size)\n        })\n        this.setState({\n          data: {\n            labels: labels,\n            datasets: [{\n              data: data,\n              label: 'Số lượng',\n              backgroundColor: '#80CBC4',\n              hoverBackgroundColor: '#80CBC4',\n            }]\n          }\n        })\n\n      });\n  }\n\n  handleChange = event => {\n    const { value } = event.target\n    const { length} = this.state\n    if (value.length <= length) {\n      this.setState({ selects: value }, () => {\n        this.getData()\n      });\n    }\n  };\n\n  render() {\n    const { careers, classes } = this.props\n    const { selects, data } = this.state\n    return (\n      <center>\n        <FormControl className={classes.formControl}>\n          <InputLabel htmlFor=\"select-multiple-chip\">Ngành nghề</InputLabel>\n          <Select\n            multiple\n            value={selects}\n            onChange={this.handleChange}\n            input={<Input id=\"select-multiple-chip\" />}\n            renderValue={selected => (\n              <div className={classes.chips}>\n                {selected.map(value => (\n                  <Chip key={value} label={value} className={classes.chip} />\n                ))}\n              </div>\n            )}\n            MenuProps={MenuProps}\n          >\n            {careers.map((item, index) => (\n              <MenuItem key={index} value={item} style={getStyles(item, this)}>\n                {item}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n        <Bar\n          data={data}\n          width={100}\n          height={250}\n          options={{\n            maintainAspectRatio: false\n          }}\n        />\n      </center>\n    );\n  }\n}\n\nCareerGroupsBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  formControl: {\n    margin: theme.spacing.unit,\n    minWidth: 450,\n    maxWidth: 800,\n    marginBottom: 20\n  },\n  chips: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    margin: theme.spacing.unit / 4,\n  },\n  noLabel: {\n    marginTop: theme.spacing.unit * 3,\n  },\n});\n\n\nexport default withStyles(styles, { withTheme: true })(CareerGroupsBar);"]},"metadata":{},"sourceType":"module"}