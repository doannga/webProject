{"ast":null,"code":"import _objectSpread from \"/home/ngadoan/Documents/webProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/ngadoan/Documents/webProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ngadoan/Documents/webProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ngadoan/Documents/webProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ngadoan/Documents/webProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ngadoan/Documents/webProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ngadoan/Documents/webProject/src/components/Analysist/career_groups_chart.js\";\nimport React, { PureComponent } from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Chip from '@material-ui/core/Chip';\nimport ReactApexChart from 'react-apexcharts';\nimport Fade from '@material-ui/core/Fade';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\nvar ITEM_HEIGHT = 48;\nvar ITEM_PADDING_TOP = 8;\nvar MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP\n    }\n  }\n};\n\nfunction getStyles(name, that) {\n  return {\n    fontWeight: that.state.selects.indexOf(name) === -1 ? that.props.theme.typography.fontWeightRegular : that.props.theme.typography.fontWeightMedium\n  };\n}\n\nvar COLORS = ['#FF6384', '#36A2EB', '#FFCE56', '#80CBC4', '#BA68B8'];\n\nvar CareerGroupsChart =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(CareerGroupsChart, _PureComponent);\n\n  function CareerGroupsChart() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CareerGroupsChart);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CareerGroupsChart)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      selects: [],\n      data: {\n        options: {\n          labels: [],\n          colors: COLORS,\n          legend: {\n            show: true,\n            position: 'top',\n            horizontalAlign: 'center'\n          }\n        },\n        series: []\n      },\n      length: 5,\n      isLoading: false\n    };\n\n    _this.handleChange = function (event) {\n      var value = event.target.value;\n      var length = _this.state.length;\n\n      if (value.length <= length) {\n        _this.setState({\n          selects: value\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(CareerGroupsChart, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          selects = _this$state.selects,\n          length = _this$state.length;\n      this.setState({\n        isLoading: true\n      });\n      fetch(\"http://127.0.0.1:5000/analysist_career_groups?career_groups=\" + selects + \"&length=\" + length, {\n        method: \"GET\"\n      }).then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        console.log(result);\n        var labels = [];\n        var data = [];\n        result.result.forEach(function (item) {\n          labels.push(item.career_group);\n          data.push(item.percent);\n        });\n\n        _this2.setState({\n          data: {\n            options: _objectSpread({}, data.options, {\n              labels: labels\n            }),\n            series: data\n          },\n          isLoading: false\n        });\n      });\n    }\n  }, {\n    key: \"onViewClicked\",\n    value: function onViewClicked() {\n      this.getData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          career_groups = _this$props.career_groups,\n          classes = _this$props.classes;\n      var _this$state2 = this.state,\n          selects = _this$state2.selects,\n          data = _this$state2.data,\n          isLoading = _this$state2.isLoading;\n      return React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          height: 450\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, isLoading ? React.createElement(\"div\", {\n        className: classes.placeholder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Fade, {\n        in: true,\n        style: {\n          transitionDelay: '0ms'\n        },\n        unmountOnExit: true,\n        color: \"secondary\",\n        className: classes.loaded,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(CircularProgress, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }))) : null, React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          'justifyContent': 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        className: classes.formControl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"select-multiple-chip\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Nh\\xF3m ng\\xE0nh ngh\\u1EC1\"), React.createElement(Select, {\n        multiple: true,\n        value: selects,\n        onChange: this.handleChange,\n        input: React.createElement(Input, {\n          id: \"select-multiple-chip\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }),\n        renderValue: function renderValue(selected) {\n          return React.createElement(\"div\", {\n            className: classes.chips,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139\n            },\n            __self: this\n          }, selected.map(function (value) {\n            return React.createElement(Chip, {\n              key: value,\n              label: value,\n              className: classes.chip,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 141\n              },\n              __self: this\n            });\n          }));\n        },\n        MenuProps: MenuProps,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, career_groups.map(function (item, index) {\n        return React.createElement(MenuItem, {\n          key: index,\n          value: item,\n          style: getStyles(item, _this3),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, item);\n      }))), React.createElement(Button, {\n        variant: \"contained\",\n        className: classes.button,\n        onClick: this.onViewClicked.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Xem\")), React.createElement(ReactApexChart, {\n        options: data.options,\n        series: data.series,\n        type: \"pie\",\n        width: 500,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return CareerGroupsChart;\n}(PureComponent);\n\nCareerGroupsChart.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    formControl: {\n      margin: theme.spacing.unit,\n      minWidth: 450,\n      maxWidth: 800,\n      marginBottom: 20\n    },\n    chips: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    chip: {\n      margin: theme.spacing.unit / 4\n    },\n    noLabel: {\n      marginTop: theme.spacing.unit * 3\n    },\n    placeholder: {\n      height: 550,\n      width: \"100%\",\n      backgroundColor: 'rgba(0, 0, 0, 0.2)',\n      position: 'absolute',\n      zIndex: 1,\n      top: 0,\n      left: 0\n    },\n    loaded: {\n      height: 40,\n      width: 40,\n      top: \"50%\",\n      marginTop: -20,\n      position: 'relative'\n    },\n    button: {\n      margin: theme.spacing.unit,\n      width: 100\n    }\n  };\n};\n\nexport default withStyles(styles, {\n  withTheme: true\n})(CareerGroupsChart);","map":{"version":3,"sources":["/home/ngadoan/Documents/webProject/src/components/Analysist/career_groups_chart.js"],"names":["React","PureComponent","PropTypes","withStyles","Input","InputLabel","MenuItem","FormControl","Select","Chip","ReactApexChart","Fade","CircularProgress","Button","ITEM_HEIGHT","ITEM_PADDING_TOP","MenuProps","PaperProps","style","maxHeight","getStyles","name","that","fontWeight","state","selects","indexOf","props","theme","typography","fontWeightRegular","fontWeightMedium","COLORS","CareerGroupsChart","data","options","labels","colors","legend","show","position","horizontalAlign","series","length","isLoading","handleChange","event","value","target","setState","getData","fetch","method","then","res","json","result","console","log","forEach","item","push","career_group","percent","career_groups","classes","height","placeholder","transitionDelay","loaded","display","alignItems","formControl","selected","chips","map","chip","index","button","onViewClicked","bind","propTypes","object","isRequired","styles","root","flexWrap","margin","spacing","unit","minWidth","maxWidth","marginBottom","noLabel","marginTop","width","backgroundColor","zIndex","top","left","withTheme"],"mappings":"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","sourcesContent":["import React, { PureComponent } from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Chip from '@material-ui/core/Chip';\nimport ReactApexChart from 'react-apexcharts'\nimport Fade from '@material-ui/core/Fade';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\n\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\n\nconst MenuProps = {\n    PaperProps: {\n        style: {\n            maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n        },\n    },\n};\n\nfunction getStyles(name, that) {\n    return {\n        fontWeight:\n            that.state.selects.indexOf(name) === -1\n                ? that.props.theme.typography.fontWeightRegular\n                : that.props.theme.typography.fontWeightMedium,\n    };\n}\n\nconst COLORS = ['#FF6384', '#36A2EB', '#FFCE56', '#80CBC4', '#BA68B8'];\n\nclass CareerGroupsChart extends PureComponent {\n    state = {\n        selects: [],\n        data: {\n            options: {\n                labels: [],\n                colors: COLORS,\n                legend: {\n                    show: true,\n                    position: 'top',\n                    horizontalAlign: 'center',\n                },\n            },\n            series: []\n        },\n        length: 5,\n        isLoading: false,\n    };\n\n    componentDidMount() {\n        this.getData()\n    }\n\n    getData() {\n        const { selects, length } = this.state\n        this.setState({\n            isLoading: true\n        })\n\n        fetch(\"http://127.0.0.1:5000/analysist_career_groups?career_groups=\" + selects + \"&length=\" + length, {\n            method: \"GET\"\n        })\n            .then(res => res.json())\n            .then(result => {\n                console.log(result);\n\n                var labels = []\n                var data = []\n                result.result.forEach(item => {\n                    labels.push(item.career_group)\n                    data.push(item.percent)\n                })\n                this.setState({\n                    data: {\n                        options: {\n                            ...data.options,\n                            labels: labels,\n                        },\n                        series: data,\n                    },\n                    isLoading: false\n                })\n\n            });\n    }\n\n    handleChange = event => {\n        const { value } = event.target\n        const { length } = this.state\n        if (value.length <= length) {\n            this.setState({\n                selects: value\n            });\n        }\n    };\n\n    onViewClicked() {\n        this.getData()\n    }\n\n    render() {\n        const { career_groups, classes } = this.props\n        const { selects, data, isLoading } = this.state\n        return (\n            <center>\n                <div style={{ height: 450 }}>\n                    {\n                        isLoading ?\n                            <div className={classes.placeholder}>\n                                <Fade\n                                    in={true}\n                                    style={{\n                                        transitionDelay: '0ms',\n                                    }}\n                                    unmountOnExit\n                                    color=\"secondary\"\n                                    className={classes.loaded}\n                                >\n                                    <CircularProgress />\n                                </Fade>\n                            </div> : null\n                    }\n                    <div style={{ display: \"flex\", alignItems: \"center\", 'justifyContent': 'center' }}>\n                        <FormControl className={classes.formControl}>\n                            <InputLabel htmlFor=\"select-multiple-chip\">Nhóm ngành nghề</InputLabel>\n                            <Select\n                                multiple\n                                value={selects}\n                                onChange={this.handleChange}\n                                input={<Input id=\"select-multiple-chip\" />}\n                                renderValue={selected => (\n                                    <div className={classes.chips}>\n                                        {selected.map(value => (\n                                            <Chip key={value} label={value} className={classes.chip} />\n                                        ))}\n                                    </div>\n                                )}\n                                MenuProps={MenuProps}\n                            >\n                                {career_groups.map((item, index) => (\n                                    <MenuItem key={index} value={item} style={getStyles(item, this)}>\n                                        {item}\n                                    </MenuItem>\n                                ))}\n                            </Select>\n                        </FormControl>\n                        <Button variant=\"contained\" className={classes.button} onClick={this.onViewClicked.bind(this)}>\n                            Xem\n      </Button>\n                    </div>\n\n\n                    <ReactApexChart options={data.options} series={data.series} type=\"pie\" width={500} />\n                </div>\n            </center>\n\n        )\n    }\n}\n\nCareerGroupsChart.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    formControl: {\n        margin: theme.spacing.unit,\n        minWidth: 450,\n        maxWidth: 800,\n        marginBottom: 20\n    },\n    chips: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    chip: {\n        margin: theme.spacing.unit / 4,\n    },\n    noLabel: {\n        marginTop: theme.spacing.unit * 3,\n    },\n    placeholder: {\n        height: 550,\n        width: `100%`,\n        backgroundColor: 'rgba(0, 0, 0, 0.2)',\n        position: 'absolute',\n        zIndex: 1,\n        top: 0,\n        left: 0,\n    },\n    loaded: {\n        height: 40,\n        width: 40,\n        top: `50%`,\n        marginTop: -20,\n        position: 'relative'\n    },\n    button: {\n        margin: theme.spacing.unit,\n        width: 100\n    },\n});\n\n\nexport default withStyles(styles, { withTheme: true })(CareerGroupsChart);"]},"metadata":{},"sourceType":"module"}