{"ast":null,"code":"import _classCallCheck from \"/home/ngadoan/Documents/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ngadoan/Documents/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ngadoan/Documents/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ngadoan/Documents/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ngadoan/Documents/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ngadoan/Documents/my-app/src/components/Analysist/career_groups_bar.js\";\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Chip from '@material-ui/core/Chip';\nimport ReactApexChart from 'react-apexcharts';\nimport Fade from '@material-ui/core/Fade';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\nvar ITEM_HEIGHT = 48;\nvar ITEM_PADDING_TOP = 8;\nvar COLORS = ['#FF6384', '#36A2EB', '#FFCE56', '#80CBC4', '#BA68B8'];\nvar MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP\n    }\n  }\n};\n\nfunction getStyles(name, that) {\n  return {\n    fontWeight: that.state.selects.indexOf(name) === -1 ? that.props.theme.typography.fontWeightRegular : that.props.theme.typography.fontWeightMedium\n  };\n}\n\nvar CareerGroupsBar =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(CareerGroupsBar, _PureComponent);\n\n  function CareerGroupsBar() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CareerGroupsBar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CareerGroupsBar)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      selects: [],\n      data: {\n        options: {\n          xaxis: {\n            categories: []\n          },\n          colors: COLORS\n        },\n        series: [{\n          name: '',\n          data: []\n        }]\n      },\n      length: 10,\n      addressSelect: [],\n      isLoading: false\n    };\n\n    _this.handleChange = function (event) {\n      var value = event.target.value;\n      var length = _this.state.length;\n\n      if (value.length <= length) {\n        _this.setState({\n          selects: value\n        });\n      }\n    };\n\n    _this.handleAddressChange = function (event) {\n      var value = event.target.value;\n\n      if (value.length <= 2) {\n        _this.setState({\n          addressSelect: value\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(CareerGroupsBar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          selects = _this$state.selects,\n          length = _this$state.length,\n          addressSelect = _this$state.addressSelect;\n      this.setState({\n        isLoading: true\n      });\n      fetch(\"http://127.0.0.1:5000/analysist_careers?careers=\" + selects + \"&addresses=\" + addressSelect + \"&length=\" + length, {\n        method: \"GET\"\n      }).then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        var categories = [];\n        var data = [];\n        console.log(result);\n\n        if (result.result.type === 1) {\n          categories = Object.values(result.result.data).map(function (value) {\n            return value.career;\n          });\n          data = Object.values(result.result.data).map(function (value) {\n            return value.size;\n          });\n\n          _this2.setState({\n            data: {\n              options: {\n                xaxis: {\n                  categories: categories\n                },\n                colors: COLORS\n              },\n              series: [{\n                name: 'Số lượng',\n                data: data\n              }]\n            },\n            isLoading: false\n          });\n        } else if (result.result.type === 2) {\n          categories = Object.values(result.result.data).map(function (value) {\n            return value.address;\n          });\n          data = Object.values(result.result.data).map(function (value) {\n            return value.size;\n          });\n\n          _this2.setState({\n            data: {\n              options: {\n                xaxis: {\n                  categories: categories\n                },\n                colors: COLORS\n              },\n              series: [{\n                name: 'Số lượng',\n                data: data\n              }]\n            },\n            isLoading: false\n          });\n        } else {\n          categories = Object.values(result.result.data[0].careers).map(function (value) {\n            return value.career;\n          });\n          data = Object.values(result.result.data).map(function (value, index) {\n            return {\n              name: value.address,\n              data: Object.values(value.careers).map(function (item) {\n                return item.size;\n              })\n            };\n          });\n\n          _this2.setState({\n            data: {\n              options: {\n                xaxis: {\n                  categories: categories\n                },\n                colors: COLORS\n              },\n              series: data\n            },\n            isLoading: false\n          });\n        }\n      });\n    }\n  }, {\n    key: \"onViewClicked\",\n    value: function onViewClicked() {\n      this.getData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          careers = _this$props.careers,\n          classes = _this$props.classes,\n          address = _this$props.address;\n      var _this$state2 = this.state,\n          selects = _this$state2.selects,\n          data = _this$state2.data,\n          addressSelect = _this$state2.addressSelect,\n          isLoading = _this$state2.isLoading;\n      return React.createElement(\"center\", {\n        style: {\n          height: 450,\n          marginTop: 150\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.root,\n        style: {\n          display: 'flex',\n          alignItems: \"center\",\n          'justifyContent': 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, isLoading ? React.createElement(\"div\", {\n        className: classes.placeholder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(Fade, {\n        in: true,\n        style: {\n          transitionDelay: '0ms'\n        },\n        unmountOnExit: true,\n        color: \"secondary\",\n        className: classes.loaded,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(CircularProgress, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }))) : null, React.createElement(FormControl, {\n        className: classes.formControl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"select-multiple-chip\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Ng\\xE0nh ngh\\u1EC1\"), React.createElement(Select, {\n        multiple: true,\n        value: selects,\n        onChange: this.handleChange,\n        input: React.createElement(Input, {\n          id: \"select-multiple-chip\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }),\n        renderValue: function renderValue(selected) {\n          return React.createElement(\"div\", {\n            className: classes.chips,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 186\n            },\n            __self: this\n          }, selected.map(function (value) {\n            return React.createElement(Chip, {\n              key: value,\n              label: value,\n              className: classes.chip,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 188\n              },\n              __self: this\n            });\n          }));\n        },\n        MenuProps: MenuProps,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, careers.map(function (item, index) {\n        return React.createElement(MenuItem, {\n          key: index,\n          value: item,\n          style: getStyles(item, _this3),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, item);\n      }))), React.createElement(FormControl, {\n        className: classes.formControl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"select-multiple-chip\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, \"T\\u1EC9nh/Th\\xE0nh ph\\u1ED1\"), React.createElement(Select, {\n        multiple: true,\n        value: addressSelect,\n        onChange: this.handleAddressChange,\n        input: React.createElement(Input, {\n          id: \"select-multiple-chip\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }),\n        renderValue: function renderValue(selected) {\n          return React.createElement(\"div\", {\n            className: classes.chips,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 209\n            },\n            __self: this\n          }, selected.map(function (value) {\n            return React.createElement(Chip, {\n              key: value,\n              label: value,\n              className: classes.chip,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 211\n              },\n              __self: this\n            });\n          }));\n        },\n        MenuProps: MenuProps,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, address.map(function (item, index) {\n        return React.createElement(MenuItem, {\n          key: index,\n          value: item,\n          style: getStyles(item, _this3),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, item);\n      }))), React.createElement(Button, {\n        variant: \"contained\",\n        className: classes.button,\n        onClick: this.onViewClicked.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, \"Xem\")), React.createElement(ReactApexChart, {\n        options: data.options,\n        series: data.series,\n        type: \"bar\",\n        height: 400,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return CareerGroupsBar;\n}(PureComponent);\n\nCareerGroupsBar.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    formControl: {\n      margin: theme.spacing.unit,\n      minWidth: 300,\n      maxWidth: 800,\n      marginBottom: 20\n    },\n    chips: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    chip: {\n      margin: theme.spacing.unit / 4\n    },\n    noLabel: {\n      marginTop: theme.spacing.unit * 3\n    },\n    placeholder: {\n      height: 500,\n      width: \"100%\",\n      backgroundColor: 'rgba(0, 0, 0, 0.2)',\n      position: 'absolute',\n      zIndex: 1,\n      top: 0,\n      left: 0,\n      marginBottom: 100\n    },\n    loaded: {\n      height: 40,\n      width: 40,\n      top: \"50%\",\n      marginTop: -20,\n      position: 'relative'\n    },\n    button: {\n      margin: theme.spacing.unit,\n      width: 100\n    }\n  };\n};\n\nexport default withStyles(styles, {\n  withTheme: true\n})(CareerGroupsBar);","map":{"version":3,"sources":["/home/ngadoan/Documents/my-app/src/components/Analysist/career_groups_bar.js"],"names":["React","PureComponent","PropTypes","withStyles","Input","InputLabel","MenuItem","FormControl","Select","Chip","ReactApexChart","Fade","CircularProgress","Button","ITEM_HEIGHT","ITEM_PADDING_TOP","COLORS","MenuProps","PaperProps","style","maxHeight","getStyles","name","that","fontWeight","state","selects","indexOf","props","theme","typography","fontWeightRegular","fontWeightMedium","CareerGroupsBar","data","options","xaxis","categories","colors","series","length","addressSelect","isLoading","handleChange","event","value","target","setState","handleAddressChange","getData","fetch","method","then","res","json","result","console","log","type","Object","values","map","career","size","address","careers","index","item","classes","height","marginTop","root","display","alignItems","placeholder","transitionDelay","loaded","formControl","selected","chips","chip","button","onViewClicked","bind","propTypes","object","isRequired","styles","flexWrap","margin","spacing","unit","minWidth","maxWidth","marginBottom","noLabel","width","backgroundColor","position","zIndex","top","left","withTheme"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Chip from '@material-ui/core/Chip';\nimport ReactApexChart from 'react-apexcharts'\nimport Fade from '@material-ui/core/Fade';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst COLORS = ['#FF6384', '#36A2EB', '#FFCE56', '#80CBC4', '#BA68B8'];\n\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n    },\n  },\n};\n\nfunction getStyles(name, that) {\n  return {\n    fontWeight:\n      that.state.selects.indexOf(name) === -1\n        ? that.props.theme.typography.fontWeightRegular\n        : that.props.theme.typography.fontWeightMedium,\n  };\n}\n\nclass CareerGroupsBar extends PureComponent {\n\n  state = {\n    selects: [],\n    data: {\n      options: {\n        xaxis: {\n          categories: []\n        },\n        colors: COLORS\n      },\n      series: [{\n        name: '',\n        data: []\n      }]\n    },\n    length: 10,\n    addressSelect: [],\n    isLoading: false,\n  };\n\n  componentDidMount() {\n    this.getData()\n  }\n\n  getData() {\n    const { selects, length, addressSelect } = this.state\n    this.setState({\n      isLoading: true\n    })\n    fetch(\"http://127.0.0.1:5000/analysist_careers?careers=\" + selects + \"&addresses=\" + addressSelect + \"&length=\" + length, {\n      method: \"GET\"\n    })\n      .then(res => res.json())\n      .then(result => {\n        var categories = []\n        var data = []\n        console.log(result);\n\n        if (result.result.type === 1) {\n          categories = Object.values(result.result.data).map(value => value.career)\n          data = Object.values(result.result.data).map(value => value.size)\n\n          this.setState({\n            data: {\n              options: {\n                xaxis: {\n                  categories: categories\n                },\n                colors: COLORS\n              },\n              series: [{\n                name: 'Số lượng',\n                data: data\n              }]\n            },\n            isLoading: false\n          })\n        } else if (result.result.type === 2) {\n          categories = Object.values(result.result.data).map(value => value.address)\n          data = Object.values(result.result.data).map(value => value.size)\n          this.setState({\n            data: {\n              options: {\n                xaxis: {\n                  categories: categories\n                },\n                colors: COLORS\n              },\n              series: [{\n                name: 'Số lượng',\n                data: data\n              }]\n            },\n            isLoading: false\n          })\n        } else {\n          categories = Object.values(result.result.data[0].careers).map(value => value.career)\n          data = Object.values(result.result.data).map((value, index) => {\n            return {\n              name: value.address,\n              data: Object.values(value.careers).map(item => item.size)\n            }\n          })\n          this.setState({\n            data: {\n              options: {\n                xaxis: {\n                  categories: categories\n                },\n                colors: COLORS\n              },\n              series: data\n            },\n            isLoading: false\n          })\n        }\n      });\n  }\n\n  handleChange = event => {\n    const { value } = event.target\n    const { length } = this.state\n    if (value.length <= length) {\n      this.setState({ selects: value });\n    }\n  };\n\n  handleAddressChange = event => {\n    const { value } = event.target\n    if (value.length <= 2) {\n      this.setState({ addressSelect: value });\n    }\n  };\n\n  onViewClicked() {\n    this.getData()\n  }\n\n\n  render() {\n    const { careers, classes, address } = this.props\n    const { selects, data, addressSelect, isLoading } = this.state\n    return (\n      <center style={{ height: 450, marginTop: 150 }}>\n        <div className={classes.root} style={{ display: 'flex', alignItems: \"center\", 'justifyContent': 'center' }}>\n          {\n            isLoading ?\n              <div className={classes.placeholder}>\n                <Fade\n                  in={true}\n                  style={{\n                    transitionDelay: '0ms',\n                  }}\n                  unmountOnExit\n                  color=\"secondary\"\n                  className={classes.loaded}\n                >\n                  <CircularProgress />\n                </Fade>\n              </div> : null\n          }\n          <FormControl className={classes.formControl}>\n            <InputLabel htmlFor=\"select-multiple-chip\">Ngành nghề</InputLabel>\n            <Select\n              multiple\n              value={selects}\n              onChange={this.handleChange}\n              input={<Input id=\"select-multiple-chip\" />}\n              renderValue={selected => (\n                <div className={classes.chips}>\n                  {selected.map(value => (\n                    <Chip key={value} label={value} className={classes.chip} />\n                  ))}\n                </div>\n              )}\n              MenuProps={MenuProps}\n            >\n              {careers.map((item, index) => (\n                <MenuItem key={index} value={item} style={getStyles(item, this)}>\n                  {item}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n          <FormControl className={classes.formControl}>\n            <InputLabel htmlFor=\"select-multiple-chip\">Tỉnh/Thành phố</InputLabel>\n            <Select\n              multiple\n              value={addressSelect}\n              onChange={this.handleAddressChange}\n              input={<Input id=\"select-multiple-chip\" />}\n              renderValue={selected => (\n                <div className={classes.chips}>\n                  {selected.map(value => (\n                    <Chip key={value} label={value} className={classes.chip} />\n                  ))}\n                </div>\n              )}\n              MenuProps={MenuProps}\n            >\n              {address.map((item, index) => (\n                <MenuItem key={index} value={item} style={getStyles(item, this)}>\n                  {item}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n          <Button variant=\"contained\" className={classes.button} onClick={this.onViewClicked.bind(this)}>\n            Xem\n      </Button>\n        </div>\n\n        <ReactApexChart options={data.options} series={data.series} type=\"bar\" height={400} />\n\n      </center>\n    );\n  }\n}\n\nCareerGroupsBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  formControl: {\n    margin: theme.spacing.unit,\n    minWidth: 300,\n    maxWidth: 800,\n    marginBottom: 20\n  },\n  chips: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    margin: theme.spacing.unit / 4,\n  },\n  noLabel: {\n    marginTop: theme.spacing.unit * 3,\n  },\n  placeholder: {\n    height: 500,\n    width: `100%`,\n    backgroundColor: 'rgba(0, 0, 0, 0.2)',\n    position: 'absolute',\n    zIndex: 1,\n    top: 0,\n    left: 0,\n    marginBottom: 100\n  },\n  loaded: {\n    height: 40,\n    width: 40,\n    top: `50%`,\n    marginTop: -20,\n    position: 'relative'\n  },\n  button: {\n    margin: theme.spacing.unit,\n    width: 100\n  },\n});\n\n\nexport default withStyles(styles, { withTheme: true })(CareerGroupsBar);"]},"metadata":{},"sourceType":"module"}